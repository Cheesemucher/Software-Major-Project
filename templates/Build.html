<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Build</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link id="build-style" rel="stylesheet" href="{{ url_for('static', filename='css/build.css') }}">
</head>
<body>

  <!-- Top Left Save & Exit Button -->
  <div id="top-left-controls">
    <button id="save-exit-button" onclick="saveBuild()">Save & Exit</button>
  </div>

  <!-- Top right buttons -->
  <div id="top-right-controls">
    <!-- Recs button -->
    <button id="recs-button" onclick="openRecs()">
      Feeling stuck? Check out some recommended designs for your build!
    </button>

    <!-- Settings Button -->
    <button id="settings-button" onclick="openSettings()">
      Settings
    </button>
  </div>


  <!-- Define the hidden shape placement menu -->
  <div id="centerMenu" class="popup-menu hidden">
    <button onclick="placeFromMenu('square')">Square</button>
    <button onclick="placeFromMenu('triangle')">Triangle</button>
  </div> 

  <!-- Scrollable Build Canvas -->
  <div id="viewport">
    <div id="build-canvas">
      <div id="center-point"></div>
      <!-- Generated tile and plus button elements will be inserted here in the actual program -->
    </div>
  </div>


  <!-- Hidden Settings Menu -->
  <div id="settingsPopup" class="settings-popup">
    <h3>Settings</h3>
    
    <label>
      <input type="checkbox" id="showButtonsCheckbox" checked>
      Show Buttons
    </label>

    <div class="color-setting">
      <label for="squareColor">Square Colour:</label>
      <input type="color" id="squareColor" value="#e26a4a"> <!--this spelling of colour pains me but thats what css reads so Ill trust the copilot autofill thing for now-->
    </div>

    <div class="color-setting">
      <label for="triangleColor">Triangle Colour:</label>
      <input type="color" id="triangleColor" value="#e26a4a">
    </div>

    <div class="color-setting">
      <label for="deleteColor">Delete Button Colour:</label>
      <input type="color" id="deleteColor" value="#ff8400">
    </div>

    <div class="slider-setting">
      <label for="plusSize">Resize Plus Button:</label>
      <input type="range" id="plusSize" min="10" max="80" value="30">
    </div>

    <div class="slider-setting">
      <label for="deleteSize">Resize Delete Button:</label>
      <input type="range" id="deleteSize" min="10" max="80" value="30">
    </div>


    <button onclick="applySettingChanges()">Apply Changes</button>

    <button onclick="resetSettings()" style="margin-left: 8px;">Reset to Defaults</button>

</div>

  <script src="https://unpkg.com/@panzoom/panzoom/dist/panzoom.min.js"></script>
  <script src="{{ url_for('static', filename='js/utils.js') }}"></script>
  <script src="{{ url_for('static', filename='js/build.js') }}"></script>
</body>
</html>
