<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Saves</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/saves.css') }}">
</head>
<body>

  <!-- Top Nav Bar -->
  <div class="top-bar">
    <a href="{{ url_for('login') }}"><button class="top-button">Logout</button></a>
    <a href="{{ url_for('saves') }}"><button class="top-button active">Saves</button></a>
    <a href="{{ url_for('blackjack') }}"><button class="top-button">Blackjack</button></a>
  </div>

  <!-- Save Cards Container -->
  <div class="save-cards-container">
    {% for build in user_builds %}
      <div class="save-card">
        <div class="save-header">
          <div class="save-header-content">
            <!-- Title -->
            <span id="build-name-{{ build.id }}" class="editable-name">{{ build.build_name }}</span>
            <!-- Control buttons -->
            <button class="icon-button" onclick="startRename('{{ build.id }}')">✎</button>
            <button class="icon-button" onclick="editDescription('{{ build.id }}')">T</button>
            <button class="icon-button" onclick="deleteBuild('{{ build.id }}')">🗑️</button>
          </div>
        </div>

        <!-- Description container -->
        <div class="description-box">
          <div id="description-{{ build.id }}" class="description-text">
            {{ build.build_description or "Insert description" }}
          </div>
        </div>

        <!-- Load button -->
        <button class="load-button" onclick="openBuild('{{ build.id }}')">Load</button>
      </div>
    {% endfor %}

    <!-- New Build Card -->
    <div class="new-build-card">
      <button class="new-build-button" onclick="createNewBuild()">+</button>
    </div>

  </div>

  <!-- JS includes -->
  <script src="{{ url_for('static', filename='js/utils.js') }}"></script>
  <script src="{{ url_for('static', filename='js/saves.js') }}"></script>
</body>
</html>
